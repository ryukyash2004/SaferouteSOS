(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{10:(e,t,a)=>{"use strict";a.d(t,{$v:()=>h,EO:()=>f,Lt:()=>o,Rx:()=>g,Zr:()=>j,ck:()=>x,r7:()=>p,tv:()=>i,wd:()=>u});var s=a(5155),r=a(2115),n=a(7649),l=a(9434),d=a(285);let o=n.bL,i=n.l9,c=n.ZL,m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hJ,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});m.displayName=n.hJ.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{}),(0,s.jsx)(n.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r})]})});f.displayName=n.UC.displayName;let u=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};u.displayName="AlertDialogHeader";let x=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};x.displayName="AlertDialogFooter";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold",a),...r})});p.displayName=n.hE.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});h.displayName=n.VY.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.rc,{ref:t,className:(0,l.cn)((0,d.r)(),a),...r})});g.displayName=n.rc.displayName;let j=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.ZD,{ref:t,className:(0,l.cn)((0,d.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});j.displayName=n.ZD.displayName},285:(e,t,a)=>{"use strict";a.d(t,{$:()=>i,r:()=>o});var s=a(5155),r=a(2115),n=a(9708),l=a(2085),d=a(9434);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:i=!1,...c}=e,m=i?n.DX:"button";return(0,s.jsx)(m,{className:(0,d.cn)(o({variant:r,size:l,className:a})),ref:t,...c})});i.displayName="Button"},1660:(e,t,a)=>{"use strict";a.d(t,{CI:()=>d,IP:()=>l,MO:()=>o,kK:()=>r});let s="saferouteSOS_emergencyContacts",r=()=>{let e=localStorage.getItem(s);return e?JSON.parse(e):[]},n=e=>{localStorage.setItem(s,JSON.stringify(e))},l=e=>{let t=r(),a={...e,id:Date.now().toString()};return n([...t,a]),a},d=e=>{n(r().map(t=>t.id===e.id?e:t))},o=e=>{n(r().filter(t=>t.id!==e))}},4711:(e,t,a)=>{Promise.resolve().then(a.bind(a,9982))},6695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>i,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>d,wL:()=>m});var s=a(5155),r=a(2115),n=a(9434);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});d.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});i.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});m.displayName="CardFooter"},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(2596),r=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},9982:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>H});var s=a(5155),r=a(2115),n=a(285),l=a(4301),d=a(286),o=a(1660),i=a(6695),c=a(1721),m=a(1554),f=a(9637),u=a(9339),x=a(7223),p=a(10);function h(e){let{contacts:t,onEdit:a,onDelete:r}=e;return(0,s.jsx)("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,s.jsxs)(i.Zp,{className:"flex flex-col justify-between shadow-sm hover:shadow-md transition-shadow",children:[(0,s.jsx)(i.aR,{children:(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,s.jsx)("div",{className:"bg-primary/10 p-2 rounded-full",children:(0,s.jsx)(c.A,{className:"h-6 w-6 text-primary"})}),(0,s.jsx)(i.ZB,{className:"text-xl",children:e.name})]})}),(0,s.jsxs)(i.Wu,{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:e.phone})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(f.A,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:e.email})]})]}),(0,s.jsxs)(i.wL,{className:"flex justify-end space-x-2 border-t pt-4 mt-4",children:[(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>a(e),children:[(0,s.jsx)(u.A,{className:"mr-1 h-4 w-4"})," Edit"]}),(0,s.jsxs)(p.Lt,{children:[(0,s.jsx)(p.tv,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"destructive",size:"sm",children:[(0,s.jsx)(x.A,{className:"mr-1 h-4 w-4"})," Delete"]})}),(0,s.jsxs)(p.EO,{children:[(0,s.jsxs)(p.wd,{children:[(0,s.jsx)(p.r7,{children:"Are you sure?"}),(0,s.jsxs)(p.$v,{children:["This action cannot be undone. This will permanently delete ",e.name," from your emergency contacts."]})]}),(0,s.jsxs)(p.ck,{children:[(0,s.jsx)(p.Zr,{children:"Cancel"}),(0,s.jsx)(p.Rx,{onClick:()=>r(e.id),className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]})]})]},e.id))})}var g=a(2177),j=a(221),N=a(5594),y=a(9434);let v=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,y.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});v.displayName="Input";var b=a(5452),w=a(5318);let C=b.bL;b.l9;let R=b.ZL;b.bm;let k=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(b.hJ,{ref:t,className:(0,y.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});k.displayName=b.hJ.displayName;let E=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(R,{children:[(0,s.jsx)(k,{}),(0,s.jsxs)(b.UC,{ref:t,className:(0,y.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[r,(0,s.jsxs)(b.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(w.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});E.displayName=b.UC.displayName;let A=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,y.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};A.displayName="DialogHeader";let I=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,y.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};I.displayName="DialogFooter";let S=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(b.hE,{ref:t,className:(0,y.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});S.displayName=b.hE.displayName;let D=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(b.VY,{ref:t,className:(0,y.cn)("text-sm text-muted-foreground",a),...r})});D.displayName=b.VY.displayName;var F=a(9708),O=a(968);let z=(0,a(2085).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Z=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(O.b,{ref:t,className:(0,y.cn)(z(),a),...r})});Z.displayName=O.b.displayName;let $=g.Op,_=r.createContext({}),L=e=>{let{...t}=e;return(0,s.jsx)(_.Provider,{value:{name:t.name},children:(0,s.jsx)(g.xI,{...t})})},Y=()=>{let e=r.useContext(_),t=r.useContext(J),{getFieldState:a,formState:s}=(0,g.xW)(),n=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},J=r.createContext({}),P=r.forwardRef((e,t)=>{let{className:a,...n}=e,l=r.useId();return(0,s.jsx)(J.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:t,className:(0,y.cn)("space-y-2",a),...n})})});P.displayName="FormItem";let B=r.forwardRef((e,t)=>{let{className:a,...r}=e,{error:n,formItemId:l}=Y();return(0,s.jsx)(Z,{ref:t,className:(0,y.cn)(n&&"text-destructive",a),htmlFor:l,...r})});B.displayName="FormLabel";let V=r.forwardRef((e,t)=>{let{...a}=e,{error:r,formItemId:n,formDescriptionId:l,formMessageId:d}=Y();return(0,s.jsx)(F.DX,{ref:t,id:n,"aria-describedby":r?"".concat(l," ").concat(d):"".concat(l),"aria-invalid":!!r,...a})});V.displayName="FormControl",r.forwardRef((e,t)=>{let{className:a,...r}=e,{formDescriptionId:n}=Y();return(0,s.jsx)("p",{ref:t,id:n,className:(0,y.cn)("text-sm text-muted-foreground",a),...r})}).displayName="FormDescription";let M=r.forwardRef((e,t)=>{var a;let{className:r,children:n,...l}=e,{error:d,formMessageId:o}=Y(),i=d?String(null!==(a=null==d?void 0:d.message)&&void 0!==a?a:""):n;return i?(0,s.jsx)("p",{ref:t,id:o,className:(0,y.cn)("text-sm font-medium text-destructive",r),...l,children:i}):null});M.displayName="FormMessage";let T=new RegExp(/^([+]?[\s0-9]+)?(\d{3}|[(]?[0-9]+[)])?([-]?[\s]?[0-9])+$/),U=N.Ik({name:N.Yj().min(2,{message:"Name must be at least 2 characters."}),phone:N.Yj().regex(T,{message:"Invalid phone number format."}),email:N.Yj().email({message:"Invalid email address."})});function W(e){let{isOpen:t,onOpenChange:a,onSave:l,contact:d}=e,o=(0,g.mN)({resolver:(0,j.u)(U),defaultValues:{name:"",phone:"",email:""}});return(0,r.useEffect)(()=>{d?o.reset({name:d.name,phone:d.phone,email:d.email}):o.reset({name:"",phone:"",email:""})},[d,o,t]),(0,s.jsx)(C,{open:t,onOpenChange:a,children:(0,s.jsxs)(E,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(A,{children:[(0,s.jsx)(S,{children:d?"Edit Contact":"Add New Contact"}),(0,s.jsx)(D,{children:d?"Update the details of your emergency contact.":"Enter the details for your new emergency contact."})]}),(0,s.jsx)($,{...o,children:(0,s.jsxs)("form",{onSubmit:o.handleSubmit(e=>{d?l({...d,...e}):l(e),o.reset()}),className:"space-y-4 py-4",children:[(0,s.jsx)(L,{control:o.control,name:"name",render:e=>{let{field:t}=e;return(0,s.jsxs)(P,{children:[(0,s.jsx)(B,{children:"Name"}),(0,s.jsx)(V,{children:(0,s.jsx)(v,{placeholder:"e.g. Jane Doe",...t})}),(0,s.jsx)(M,{})]})}}),(0,s.jsx)(L,{control:o.control,name:"phone",render:e=>{let{field:t}=e;return(0,s.jsxs)(P,{children:[(0,s.jsx)(B,{children:"Phone Number"}),(0,s.jsx)(V,{children:(0,s.jsx)(v,{type:"tel",placeholder:"e.g. +1234567890",...t})}),(0,s.jsx)(M,{})]})}}),(0,s.jsx)(L,{control:o.control,name:"email",render:e=>{let{field:t}=e;return(0,s.jsxs)(P,{children:[(0,s.jsx)(B,{children:"Email Address"}),(0,s.jsx)(V,{children:(0,s.jsx)(v,{type:"email",placeholder:"e.g. jane.doe@example.com",...t})}),(0,s.jsx)(M,{})]})}}),(0,s.jsxs)(I,{children:[(0,s.jsx)(n.$,{type:"button",variant:"outline",onClick:()=>{o.reset(),a(!1)},children:"Cancel"}),(0,s.jsx)(n.$,{type:"submit",children:"Save Contact"})]})]})})]})})}function H(){let[e,t]=(0,r.useState)([]),[a,c]=(0,r.useState)(!1),[m,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{t((0,o.kK)())},[]);let u=()=>{t((0,o.kK)())},x=()=>{f(null),c(!0)};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Emergency Contacts"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage the people who will be notified in an emergency."})]}),(0,s.jsxs)(n.$,{onClick:x,className:"w-full sm:w-auto",children:[(0,s.jsx)(l.A,{className:"mr-2 h-4 w-4"})," Add New Contact"]})]}),0===e.length?(0,s.jsxs)(i.Zp,{className:"text-center py-10",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)("div",{className:"mx-auto bg-secondary p-3 rounded-full w-fit",children:(0,s.jsx)(d.A,{className:"h-12 w-12 text-muted-foreground"})}),(0,s.jsx)(i.ZB,{className:"mt-4",children:"No Contacts Yet"}),(0,s.jsx)(i.BT,{children:"Add emergency contacts to ensure someone is notified if you send an SOS."})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)(n.$,{onClick:x,children:[(0,s.jsx)(l.A,{className:"mr-2 h-4 w-4"})," Add Your First Contact"]})})]}):(0,s.jsx)(h,{contacts:e,onEdit:e=>{f(e),c(!0)},onDelete:e=>{(0,o.MO)(e),u()}}),(0,s.jsx)(W,{isOpen:a,onOpenChange:c,onSave:e=>{"id"in e&&e.id?(0,o.CI)(e):(0,o.IP)(e),u(),c(!1),f(null)},contact:m})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[668,890,649,258,441,684,358],()=>t(4711)),_N_E=e.O()}]);