(()=>{var e={};e.id=974,e.ids=[974],e.modules={440:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(1658);let r=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},580:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var s=a(687),r=a(3210),i=a(5814),l=a.n(i),o=a(4493),n=a(9523),d=a(1516),c=a(2614);let m=(0,c.A)("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);var u=a(4975),p=a(9867),x=a(7722),h=a(1360),f=a(8116),g=a(3500);function y(){let{toast:e}=(0,p.dj)(),{location:t,error:a,loading:i,getLocation:l}=(0,x.m)(),[o,c]=(0,r.useState)(!1),y=async()=>{c(!0),l()};return(0,r.useState)(()=>{if(o&&!i){if(a){e({variant:"destructive",title:"SOS Failed",description:`Could not get location: ${a}. Please enable location services.`}),c(!1);return}if(t){let a=(0,h.kK)();if(0===a.length){e({variant:"destructive",title:"SOS Failed",description:"No emergency contacts configured. Please add contacts first."}),c(!1);return}console.log("SOS Alert:",{message:"Emergency SOS! My current location is:",latitude:t.latitude,longitude:t.longitude,timestamp:new Date(t.timestamp).toLocaleString(),contacts:a.map(e=>({name:e.name,phone:e.phone,email:e.email}))}),(0,f.en)({latitude:t.latitude,longitude:t.longitude}),e({title:"SOS Alert Sent!",description:`Alert sent to ${a.length} contact(s) with your current location. (Simulated)`})}c(!1)}},[t,a,i,o,e]),(0,s.jsxs)(g.Lt,{children:[(0,s.jsx)(g.tv,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"destructive",size:"lg",className:"w-full md:w-auto h-16 text-xl shadow-lg hover:shadow-xl transition-shadow duration-300 animate-pulse hover:animate-none",disabled:o||i,children:[o||i?(0,s.jsx)(d.A,{className:"mr-2 h-6 w-6 animate-spin"}):(0,s.jsx)(m,{className:"mr-2 h-6 w-6"}),"SEND SOS"]})}),(0,s.jsxs)(g.EO,{children:[(0,s.jsxs)(g.wd,{children:[(0,s.jsxs)(g.r7,{className:"flex items-center",children:[(0,s.jsx)(u.A,{className:"mr-2 h-6 w-6 text-destructive"}),"Confirm SOS Activation"]}),(0,s.jsx)(g.$v,{children:"This will immediately send an alert with your current location to all your emergency contacts. Are you sure you want to proceed?"})]}),(0,s.jsxs)(g.ck,{children:[(0,s.jsx)(g.Zr,{children:"Cancel"}),(0,s.jsx)(g.Rx,{onClick:y,className:"bg-destructive hover:bg-destructive/90",children:"Yes, Send SOS"})]})]})]})}var v=a(6398);let j=(0,c.A)("BellRing",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]);var N=a(8206);let w=(0,c.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var b=a(8872);function k(){let[e,t]=(0,r.useState)(0),{location:a,error:i,loading:d,getLocation:c}=(0,x.m)(),{toast:m}=(0,p.dj)();return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)(o.Zp,{className:"shadow-lg",children:[(0,s.jsxs)(o.aR,{children:[(0,s.jsx)(o.ZB,{className:"text-3xl font-bold text-center text-primary",children:"Stay Safe"}),(0,s.jsx)(o.BT,{className:"text-center text-lg",children:"Your personal safety companion. In case of emergency, press the SOS button below."})]}),(0,s.jsxs)(o.Wu,{className:"flex flex-col items-center space-y-6",children:[(0,s.jsx)(y,{}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"This will alert your emergency contacts with your current location."})]})]}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsxs)(o.Zp,{children:[(0,s.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(o.ZB,{className:"text-sm font-medium",children:"Current Location"}),(0,s.jsx)(v.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,s.jsxs)(o.Wu,{children:[d&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Fetching location..."}),i&&(0,s.jsxs)("p",{className:"text-sm text-destructive",children:["Error: ",i]}),a&&!i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:"Location Acquired"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Lat: ",a.latitude.toFixed(4),", Lon: ",a.longitude.toFixed(4)]})]}),!a&&!i&&!d&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Location not available. Enable GPS."}),(0,s.jsxs)(n.$,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:()=>{c(),a&&!i?((0,f.en)({latitude:a.latitude,longitude:a.longitude}),m({title:"Checked In!",description:"Your current location has been logged to your route history."})):i&&m({variant:"destructive",title:"Check-in Failed",description:`Could not get location: ${i}`})},disabled:d,children:[(0,s.jsx)(j,{className:"mr-2 h-4 w-4"})," Log My Location (Check-in)"]})]})]}),(0,s.jsxs)(o.Zp,{children:[(0,s.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(o.ZB,{className:"text-sm font-medium",children:"Emergency Contacts"}),(0,s.jsx)(N.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,s.jsxs)(o.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:e}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:1===e?"contact configured":"contacts configured"}),(0,s.jsx)(n.$,{asChild:!0,variant:"link",className:"px-0 mt-2",children:(0,s.jsxs)(l(),{href:"/contacts",children:["Manage Contacts ",(0,s.jsx)(w,{className:"ml-1 h-4 w-4"})]})})]})]}),(0,s.jsxs)(o.Zp,{children:[(0,s.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(o.ZB,{className:"text-sm font-medium",children:"Route History"}),(0,s.jsx)(b.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,s.jsxs)(o.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:"View Logs"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Check your timestamped location records."}),(0,s.jsx)(n.$,{asChild:!0,variant:"link",className:"px-0 mt-2",children:(0,s.jsxs)(l(),{href:"/history",children:["View History ",(0,s.jsx)(w,{className:"ml-1 h-4 w-4"})]})})]})]})]})]})}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},956:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=a(5239),r=a(8088),i=a(8170),l=a.n(i),o=a(893),n={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);a.d(t,n);let d={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1204)),"/home/user/studio/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,1891)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1204:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/page.tsx","default")},1360:(e,t,a)=>{"use strict";a.d(t,{CI:()=>l,IP:()=>i,MO:()=>o,kK:()=>s});let s=()=>[],r=e=>{},i=e=>{let t=s(),a={...e,id:Date.now().toString()};return r([...t,a]),a},l=e=>{r(s().map(t=>t.id===e.id?e:t))},o=e=>{r(s().filter(t=>t.id!==e))}},1516:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2614).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3500:(e,t,a)=>{"use strict";a.d(t,{$v:()=>f,EO:()=>u,Lt:()=>n,Rx:()=>g,Zr:()=>y,ck:()=>x,r7:()=>h,tv:()=>d,wd:()=>p});var s=a(687),r=a(3210),i=a(7895),l=a(4780),o=a(9523);let n=i.bL,d=i.l9,c=i.ZL,m=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(i.hJ,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));m.displayName=i.hJ.displayName;let u=r.forwardRef(({className:e,...t},a)=>(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{}),(0,s.jsx)(i.UC,{ref:a,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));u.displayName=i.UC.displayName;let p=({className:e,...t})=>(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});p.displayName="AlertDialogHeader";let x=({className:e,...t})=>(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});x.displayName="AlertDialogFooter";let h=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(i.hE,{ref:a,className:(0,l.cn)("text-lg font-semibold",e),...t}));h.displayName=i.hE.displayName;let f=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(i.VY,{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));f.displayName=i.VY.displayName;let g=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(i.rc,{ref:a,className:(0,l.cn)((0,o.r)(),e),...t}));g.displayName=i.rc.displayName;let y=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(i.ZD,{ref:a,className:(0,l.cn)((0,o.r)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));y.displayName=i.ZD.displayName},3873:e=>{"use strict";e.exports=require("path")},4493:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>n,Zp:()=>l,aR:()=>o,wL:()=>m});var s=a(687),r=a(3210),i=a(4780);let l=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let o=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let n=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let m=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));m.displayName="CardFooter"},4975:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2614).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7249:(e,t,a)=>{Promise.resolve().then(a.bind(a,1204))},7521:(e,t,a)=>{Promise.resolve().then(a.bind(a,580))},7722:(e,t,a)=>{"use strict";a.d(t,{m:()=>r});var s=a(3210);function r(){let[e,t]=(0,s.useState)({location:null,error:null,loading:!0}),a=(0,s.useCallback)(()=>{if(!navigator.geolocation){t(e=>({...e,error:"Geolocation is not supported by your browser",loading:!1}));return}t(e=>({...e,loading:!0,error:null})),navigator.geolocation.getCurrentPosition(e=>{t({location:{latitude:e.coords.latitude,longitude:e.coords.longitude,timestamp:e.timestamp},error:null,loading:!1})},e=>{t(t=>({...t,error:e.message,loading:!1}))})},[]);return{...e,getLocation:a}}},8116:(e,t,a)=>{"use strict";a.d(t,{M1:()=>s,Z2:()=>i,en:()=>r});let s=()=>[],r=e=>e,i=()=>{}},8872:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2614).A)("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]])},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[447,180,658,895,309],()=>a(956));module.exports=s})();