(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>o});var a=r(5155),s=r(2115),l=r(9708),n=r(2085),i=r(9434);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:d=!1,...c}=e,u=d?l.DX:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:s,size:n,className:r})),ref:t,...c})});d.displayName="Button"},2983:(e,t,r)=>{"use strict";r.d(t,{M1:()=>s,Z2:()=>n,en:()=>l});let a="saferouteSOS_routeHistory",s=()=>{let e=localStorage.getItem(a);return e?JSON.parse(e):[]},l=e=>{let t=s(),r={...e,timestamp:Date.now()},l=[r,...t];return localStorage.setItem(a,JSON.stringify(l)),r},n=()=>{localStorage.removeItem(a)}},4583:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(5155),s=r(2115),l=r(9988),n=r(7312);let i="AIzaSyBlrYsQ28ow1wTAT0REuhq-tWkOq1XFWGI";var o=r(2983),d=r(2087),c=r(172),u=r(285);let m={lat:37.7749,lng:-122.4194};function f(){let{location:e,error:t,loading:r,getLocation:f}=(0,n.m)(),[g,x]=(0,s.useState)(m),[p,h]=(0,s.useState)(Date.now());return((0,s.useEffect)(()=>{f()},[]),(0,s.useEffect)(()=>{e&&"number"==typeof e.latitude&&"number"==typeof e.longitude?(x({lat:e.latitude,lng:e.longitude}),h(Date.now()),(0,o.en)({latitude:e.latitude,longitude:e.longitude})):(x(m),console.error("Invalid location data received, using default center."))},[e]),i)?r?(0,a.jsxs)("div",{className:"flex items-center justify-center h-full bg-muted rounded-md",children:[(0,a.jsx)(c.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,a.jsx)("p",{className:"ml-4 text-lg",children:"Loading Map & Location..."})]}):t?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full bg-muted rounded-md p-8 text-center",children:[(0,a.jsx)(d.A,{className:"h-16 w-16 text-destructive mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2 text-destructive",children:"Error Fetching Location"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:t}),(0,a.jsx)(u.$,{onClick:f,children:"Try Again"}),(0,a.jsx)("img",{src:"https://picsum.photos/800/450?blur=2",alt:"Error placeholder","data-ai-hint":"error map",className:"mt-4 rounded-md opacity-50 max-w-full h-auto"})]}):(0,a.jsx)(l.c4,{apiKey:i,children:(0,a.jsx)(l.T5,{defaultCenter:m,center:g,defaultZoom:15,gestureHandling:"greedy",disableDefaultUI:!0,mapId:"saferouteSOSMap",className:"w-full h-full rounded-md",children:e&&"number"==typeof e.latitude&&"number"==typeof e.longitude&&!isNaN(e.latitude)&&!isNaN(e.longitude)&&(0,a.jsx)(l.J8,{position:{lat:e.latitude,lng:e.longitude},title:"My Current Location",children:(0,a.jsx)(l.yU,{background:"hsl(var(--primary))",borderColor:"hsl(var(--primary-foreground))",glyphColor:"hsl(var(--primary-foreground))"})})},p)}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full bg-muted rounded-md p-8 text-center",children:[(0,a.jsx)(d.A,{className:"h-16 w-16 text-destructive mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Map Unavailable"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Google Maps API Key is not configured. Please set it up to use this feature."}),(0,a.jsx)("img",{src:"https://picsum.photos/800/450?grayscale",alt:"Map placeholder","data-ai-hint":"map placeholder",className:"mt-4 rounded-md opacity-50 max-w-full h-auto"})]})}var g=r(6695),x=r(1949);function p(){return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"My Location"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"View your current position on the map."})]}),!i&&(0,a.jsxs)(g.Zp,{className:"border-destructive bg-destructive/10",children:[(0,a.jsxs)(g.aR,{className:"flex flex-row items-center space-x-3",children:[(0,a.jsx)(x.A,{className:"h-6 w-6 text-destructive"}),(0,a.jsx)(g.ZB,{className:"text-destructive",children:"Map Configuration Missing"})]}),(0,a.jsx)(g.Wu,{children:(0,a.jsxs)(g.BT,{className:"text-destructive",children:["The Google Maps API key is not configured. Please set the ",(0,a.jsx)("code",{children:"NEXT_PUBLIC_GOOGLE_MAPS_API_KEY"})," environment variable in your ",(0,a.jsx)("code",{children:".env.local"})," file. The map functionality will be limited until this is resolved."]})})]}),(0,a.jsx)(g.Zp,{className:"shadow-lg",children:(0,a.jsx)(g.Wu,{className:"p-0",children:(0,a.jsx)("div",{className:"aspect-video md:h-[600px] w-full",children:(0,a.jsx)(f,{})})})})]})}},6695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i,wL:()=>u});var a=r(5155),s=r(2115),l=r(9434);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});n.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},7312:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var a=r(2115);function s(){let[e,t]=(0,a.useState)({location:null,error:null,loading:!0}),r=(0,a.useCallback)(()=>{if(!navigator.geolocation){t(e=>({...e,error:"Geolocation is not supported by your browser",loading:!1}));return}t(e=>({...e,loading:!0,error:null})),navigator.geolocation.getCurrentPosition(e=>{t({location:{latitude:e.coords.latitude,longitude:e.coords.longitude,timestamp:e.timestamp},error:null,loading:!1})},e=>{t(t=>({...t,error:e.message,loading:!1}))})},[]);return(0,a.useEffect)(()=>{t(e=>({...e,loading:!1}))},[r]),{...e,getLocation:r}}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(2596),s=r(9688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},9910:(e,t,r)=>{Promise.resolve().then(r.bind(r,4583))}},e=>{var t=t=>e(e.s=t);e.O(0,[668,263,441,684,358],()=>t(9910)),_N_E=e.O()}]);